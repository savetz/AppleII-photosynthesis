                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                \ `OAD OVERLAYS DISK 2   <12/31/86>141  PAGE ." Loading BIOLOGY overlays 2"     CR CR CR \ PATCH ** no room to patch ** ." PUT RUN COMPILE IN A PRESS A KEY"    KEY DROP CR CR                                                                  4 START-OV \ 3: Chemical formula          150 169 THRU                          3 !OVERLAY 0OVERLAY                                                             5 START-OV \ 4: Light Absorbancey         170 179 THRU                          4 !OVERLAY 0OVERLAY                                                             1 START-OV \ Title sequence see 180       180 189 THRU                          \ do not ! or zero this, save with sys                                          CR CR                                   ." PUT SYSTEM DISK IN A, PRESS A KEY"   KEY DROP CR CR                          [FORTH] WRITE-LOADER                    MARK-FORGET UNPATCH 3 BUFFERS                                          \ FAH                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    \ CHEMICAL PRINTER NOTES <11/ 7/86>150  EXIT _________________________________                                          The idea behind these functions is to   provide an easy way to express the      chemical formulas that results in a     very clean polished formula                                                     The plan is to implement the formula    printer by passing strings that         describe the nature of the molecule                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    \ FAH                                                                    \ CHEMICAL PRINTER RULES <11/ 7/86>151  EXIT _________________________________                                          To print a element at the current       location simply inclose it in sigle     quotes (like 'HC')                                                              Within an string the following          characters have special meaning:                                                > will raise for superscripts and end     a subscript.                          < will drop for subscripts and end        a superscript.                        NOTE - you only have to end sub/super-         scripts if you have to print            more things after it                                                     ^ Causes the next letter to be centered   on the current location. If ^ is        not present it is alligned on the       first character                                                                                              \ FAH                                                                    \ CHEMICAL PRINTER RULES <11/ 7/86>152  EXIT _________________________________  All movement is relative to the current location and is specified as x and y    displacements and specified as follows                                          Cxy Where C is the type of movement     desired and xy is the amount of x and   y displacement                                                                  The following C's are defined                                                   D connect with double bond              S connect with single bond              H connect with high energy bound          (ONLY WORK WHEN y is 0 ie straight)   T connect with a tapered bond             that starts 1 pix and wides op wide   R reverse taper wide to small           W connect with a wide bond                                                      xy are specified with letters           A=1 Z=26 a=-1 z=-26 space=0                                            \ FAH                                                                    \ CHEMICAL PRINTER RULES <11/ 7/86>153  EXIT _________________________________                                          The following special operations are    also defined:                                                                   Xno Save current x location plus offset     o to table location n               Yno Save current y location plus offset     o to table location n                   - The above are used to label             portions of the molecule          +   Save current location               -   Restore last saved location                                                                                                                                                                                                                                                                                                                                                                                                                \ FAH                                                                    \ CONSTANTS VARIABLES    <11/ 7/86>154                                          \ leave first head so we have something \ to forget                             7 CONSTANT CW \ character width         8 XCONSTANT CH \ character heigth       4 XCONSTANT CC \ vertical center offset                                                                                 \ pointer to current character          0 CONSTANT ^STR                         \ number of characters left in string   XVARIABLE CLEFT                                                                 \ holds current location                XVARIABLE MX                            XVARIABLE MY                                                                                                            \ amount subscripts raised              5 XCONSTANT SSAMT                                                                                                                                      \ FAH                                                                    \ @CH LOOKCH             <11/ 7/86>155                                                                                  \ read current character and inc ptr    X: @CH \ -- C/0; returns zero if end      CLEFT @ 0>                              IF ^STR C@ 1 ' ^STR +! -1 CLEFT +!      ELSE 0 THEN X;                                                                \ read current character don't inc      X: LOOKCH \ -- C/0; returns zero if end   CLEFT @ 0>                              IF ^STR C@ ELSE 0 THEN X;                                                                                                                                                                                                                                                                                                                                                                                                                                                            \ FAH                                                                    \ ELSPC? ELPOS           <11/ 7/86>156                                          X: ELSPC? \ C -- T/F; T if < > or ^       DUP 60 = OVER 62 = OR SWAP 94 = OR X;                                         XVARIABLE ELLEN \ len in pixs           XVARIABLE CPOS \ center location        X: ELWID CWIDTH 2 /MOD + 1- X;          \ entered pointing to char after '      \ sets up text cursor to print the      \ element restores pointer              X: ELPOS ( -- )                           ^STR >R CLEFT @ >R 0 ELLEN !            LOOKCH ELSPC? NOT                       IF LOOKCH ELWID CPOS ! THEN             BEGIN LOOKCH DUP 39 = SWAP 0= OR NOT    WHILE @CH DUP ELSPC?                     IF 94 = \ new centering pos?             IF LOOKCH ELWID ELLEN @ +                CPOS ! THEN                           ELSE CWIDTH CDELX + ELLEN +! THEN      REPEAT                                  R> CLEFT ! R> TO ^STR X;                                             \ FAH                                                                    \ PRSTR DO'              <11/ 7/86>157                                          X: PRSTR \ -- print string                BEGIN LOOKCH DUP 39 = SWAP 0= OR NOT    WHILE @CH DUP ELSPC?                     IF DUP 60 =                              IF SSAMT GY +! THEN 62 =                IF SSAMT NEGATE GY +! THEN             ELSE GETMODE 4 SETMODE                    SWAP GEMIT SETMODE                    THEN                                   REPEAT                                  @CH DROP X; \ terminating '                                                   \ code for interpretting '              \ call with character pointing to       \ first char after ' increments         \ pointer to point to first char        \ after closing '                       X: 'DO ( -- )                             ELPOS MX @ CPOS @ - MY @ CC - GXYTAB    PRSTR X;                                                                                                     \ FAH                                                                    \ MOVE DRAW PRIMS        <11/ 7/86>158                                          XVARIABLE MEX \ ending x value          XVARIABLE MEY \ ending y value          XVARIABLE MSX \ rise                    XVARIABLE MSY \ run                     \ given a character return its value    \ A to Z = 1 to 26 a to z = -1 to -26   \ space = 0                             X: GETVAL \ C -- V; aborts if error       DUP BL = IF DROP 0 EXIT THEN            DUP ASCII A ASCII Z WITHIN              IF ASCII A - 1+ EXIT THEN               DUP ASCII a ASCII z WITHIN              IF ASCII a - 1+ NEGATE EXIT THEN        1 ABORT" Bad offset" X;                                                       X: SETEND \ enter pointing to offsets     @CH GETVAL DUP MSX ! MX @ + MEX !       @CH GETVAL DUP MSY ! MY @ + MEY ! X;                                          X: COPYEND \ set new point to last end    MEX @ MX ! MEY @ MY ! X;                                             \ FAH                                                                    \ SDO MDO @MXY @MEXY     <11/ 7/86>159                                                                                  X: @MXY \ -- X Y ;                        MX @ MY @ X;                                                                  X: @MEXY \ -- X Y ;                       MEX @ MEY @ X;                                                                \ draw a single bound                   X: SDO ( -- )                             SETEND                                  @MXY @MEXY LINE                         COPYEND X;                                                                                                            \ just moves                            X: MDO                                    SETEND COPYEND X;                                                                                                                                                                                                                    \ FAH                                                                    \ NSIGN MEL MER          <11/ 7/86>160                                          X: NSIGN \ V -- -1/0/1;                   DUP                                     IF 0> 2* 1- THEN X;                                                           \ deal w/ this shit apple computer      X: SCASE \ N -- M                         MSX @                                   IF MSY @ ABS MSX @ ABS / 1 >            ELSE 1 THEN                             IF 2* THEN X;                                                                 \ Return Point to the left              X: MEL \ X Y -- X' Y'                     >R MSY @ NSIGN SCASE +                  R> MSX @ NSIGN NEGATE + X;                                                    \ Return point to the right             X: MER \ X Y -- X' Y'                     >R MSY @ NSIGN SCASE NEGATE +           R> MSX @ NSIGN + X;                                                                                          \ FAH                                                                    \ DOD TDO RDO            <11/ 7/86>161                                          \ draw a double bond                    X: DOD ( -- ) SETEND                      @MXY MEL @MEXY MEL LINE                 @MXY MER @MEXY MER LINE                 COPYEND X;                                                                    \ draw a taper bond                     X: TDO ( -- ) SETEND                      @MXY @MEXY MEL LINE                     @MXY @MEXY LINE                         @MXY @MEXY MER LINE                     COPYEND X;                                                                    \ draw a reverse taper bond             X: RDO ( -- ) SETEND                      @MXY MEL @MEXY LINE                     @MXY @MEXY LINE                         @MXY MER @MEXY LINE                     COPYEND X;                                                                                                                                           \ FAH                                                                    \ WDO CDO                <11/ 7/86>162                                          \ draw a wide bond                      X: WDO ( -- ) SETEND                      @MXY MEL @MEXY MEL LINE                 @MXY @MEXY LINE                         @MXY MER @MEXY MER LINE                 COPYEND X;                                                                    \ set color for bounds/braces           X: CDO ( -- )                             @CH GETVAL HCOLOR X;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         \ FAH                                                                    \ 0DO +DO -DO            <11/ 7/86>163                                          \ set MX MY to current cursor position  \ clear up any other viables                                                    X: 0DO                                    GY @ MY ! GX @ MX ! X;                                                                                                XVARIABLE OPOS 2 ALLOT                                                          X: +DO                                    @MXY OPOS D! X;                                                               X: -DO                                    OPOS D@ MY ! MX ! X;                                                                                                                                                                                                                                                                                                                                         \ FAH                                                                    \ XDO YDO GDO            <11/ 7/86>164                                          XCREATE MXYPOS 40 ALLOT                 : ^MXYPOS \ N -- ADR;                     DUP ASCII 0 ASCII 9 WITHIN NOT          ABORT" Bad index"                       ASCII 0 - 4 * MXYPOS + ;                                                      \ Xno - Saves MX plus offset o to n     X: XDO ( -- )                             @CH ^MXYPOS >R                          MX @ @CH GETVAL + R> ! X;                                                     X: YDO ( -- )                             @CH ^MXYPOS >R                          MY @ @CH GETVAL + R> 2+ ! X;                                                  X: GDO ( -- )                             @CH ^MXYPOS D@ MX ! MY ! X;                                                                                                                                                                                                          \ FAH                                                                    \ BDO                    <11/ 7/86>165                                          XCREATE BC                                0 C, 1 C, 1 C, 1 C, 0 C, 1 C,           1 C, 1 C, 1 C, 0 C, 1 C, 1 C,           1 C, 0 C,                                                                     0 CONSTANT XR \ reverse x values        0 CONSTANT YR \ reverse y values                                                X: @XI ( N -- V )                          XR IF 6 SWAP - THEN 2* BC + C@ X;                                            X: @YI ( N -- V )                          XR IF 6 SWAP - THEN                     2* BC + 1+ C@ YR IF NEGATE THEN X;                                           \ do a corner XR YR decide orienatation X: BRC \ X Y -- X' Y';                    DDUP DOT 7 0                            DO SWAP I @XI + SWAP I @YI +              DDUP DOT LOOP X;                                                                                           \ FAH                                                                    \ BRACE BDO              <11/ 7/86>166  \ set YR to value before call           : BRACE \ LEN --                          GETMODE >R 1MODE 20 - 4 / >R            0 TO XR                                 @CURSOR BRC R@ 0                        DO >R 2+ R> DDUP DOT LOOP               1 TO XR BRC                             YR NOT TO YR 0 TO XR BRC                R> 0 DO >R 2+ R> DDUP DOT LOOP          1 TO XR BRC DDROP                       YR NOT TO YR R> SETMODE ;                                                     X: BDO \ -- ;                             @CH ASCII 1 = TO YR                     @CH ^MXYPOS >R                          R@ @ R@ 2+ @ !CURSOR                    @CH ^MXYPOS @ R> @ - DUP BRACE          @CH ASCII ' = NOT                       ABORT" ' expected'"                     ELPOS 2/ ELLEN @ 2/ - GX +!             YR IF -20 ELSE 10 THEN GY +!            PRSTR X;                                                             \ FAH                                                                    \ DOCOMD                 <11/ 7/86>167  XCREATE <DOCOMD>                          ASCII 0 C, ] 0DO [ ASCII ' C, ] 'DO [   ASCII S C, ] SDO [ ASCII M C, ] MDO [   ASCII D C, ] DOD [ ASCII T C, ] TDO [   ASCII R C, ] RDO [ ASCII W C, ] WDO [   ASCII X C, ] XDO [ ASCII Y C, ] YDO [   ASCII + C, ] +DO [ ASCII - C, ] -DO [   ASCII B C, ] BDO [ ASCII G C, ] GDO [   0       C, 0 ,                                                                \ execute code for char or error        X: DOCOMD ( C -- )                        >R <DOCOMD>                             BEGIN DUP C@ ?DUP                       WHILE R@ =                               IF R> DROP 1+ @ 2+ >R EXIT              THEN                                    3 +                                    REPEAT                                  1 ABORT" BAD COMMAND"                 X;                                                                                                             \ FAH                                                                    \ DOFORM                 <11/ 7/86>168                                          : DOFORM \ ADR -- ;                       COUNT CLEFT ! TO ^STR                   BEGIN LOOKCH                            WHILE @CH DOCOMD                        REPEAT ;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             \ FAH                                                                    \ CFORM                  <11/ 7/86>169                                          \ use: CFORM mes, num                   \ will num messages starting with       \ mes from the current groupt and       \ will feed it to DOFROM                0 OWORD:                                  0                                       DO DUP >R EXEC @GMSG                      MSG-BUF DOFORM                          R> 1+                                 LOOP DROP                               EXEC CLEANUP FORTH O;                                                         [FORTH]                                 FORGET CH \ REMOVE HEADS                                                        EXIT ---------                          KEY: CFORM                                LOADER INSCR?                           TYPES INT LOADER GET-EXPR               TYPES INT LOADER GET-EXPR               !EXCODE ;                                                            \ FAH                                                                    \ GETLT#                 <11/20/86>170                                          XCREATE LTCLR                           \ Last wavelen , grph#                     455 , 39 C,                             495 , 38 C,                             565 , 37 C,                             575 , 36 C,                             595 , 35 C,                             999 , 32 C, \ really 700                                                     \ set TINT to graphic # for wavelength  0 OWORD: ( N -- )                       \ convert to wavelength                   10 * 400 + >R                           LTCLR                                   BEGIN DUP @ R@ <                        WHILE 3 + REPEAT                        R> DROP                                 2+ C@ TINT !                          ;                                                                                                                                                      \ FAH                                                                    \ Conversion factors     <11/17/86>171  EXIT _________________________________                                          2.0 - 2     Left number is the result   1.9 - 8     right number is the offset  1.8 - 14    to display the arrow        1.7 - 20    (ascii 5) within the gauge  1.6 - 26    graphic.                    1.5 - 32                                1.4 - 37    The offset                  1.3 - 42                                1.2 - 47                                1.1 - 52                                1.0 - 57                                0.9 - 61                                0.8 - 65                                0.7 - 69                                0.6 - 73                                0.5 - 77                                0.4 - 80                                0.3 - 83                                0.2 - 86                                0.1 - 89                                0.0 - 92                       \ FAH                                                                    \ DRPOS                  <11/20/86>172                                          \ table of gauge positions for          \ each of the values 0-20               XCREATE PTPOS                             92 C, 89 C, 86 C, 83 C, 80 C,           77 C, 73 C, 69 C, 65 C, 61 C,           57 C, 52 C, 47 C, 42 C, 37 C,           32 C, 26 C, 20 C, 14 C, 8 C,            3 C,                                                                          \ add 45 to xpos of location of the     \ meter graphic                         VARIABLE STGPOS 0 , 45 0 STGPOS D!                                              X: DRPTR ( Y-OFS -- )                      >R @CURSOR                              STGPOS D@ R> + !CURSOR                  DX @ 0 DX ! 5 GEMIT DX !                !CURSOR X;                                                                                                                                                                                  \ FAH                                                                    \ MOVEPTR                <11/19/86>173                                          X: MOVEPTR \ END-OFF --                   92                                      BEGIN DDUP <                            WHILE DUP DRPTR 2-                      REPEAT                                  DROP DRPTR                            X;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              \ EXPERIMENT DATA        <11/20/86>174                                          \ CRUDE,CHLOROA,CHLOROB,CAROTEN,XANTH                                           XCREATE EDATA                           15 C,  2 C,  6 C,  1 C,  1 C, \ 400     16 C,  3 C,  9 C,  2 C,  2 C, \ 410     17 C,  4 C,  9 C,  4 C,  4 C, \ 420     19 C,  7 C,  4 C,  4 C,  4 C, \ 430     18 C,  7 C,  3 C,  5 C,  5 C, \ 440     17 C, 18 C,  1 C,  8 C,  8 C, \ 450     19 C, 18 C,  1 C,  7 C,  7 C, \ 460     18 C,  6 C,  1 C,  6 C,  6 C, \ 470     17 C,  1 C,  1 C,  7 C,  7 C, \ 480     14 C,  1 C,  1 C,  5 C,  5 C, \ 490      1 C,  1 C,  1 C,  3 C,  3 C, \ 500      2 C,  1 C,  1 C,  0 C,  0 C, \ 510      2 C,  1 C,  1 C,  0 C,  0 C, \ 520      2 C,  1 C,  1 C,  0 C,  0 C, \ 530      2 C,  1 C,  1 C,  0 C,  0 C, \ 540      2 C,  1 C,  1 C,  0 C,  0 C, \ 550      2 C,  1 C,  1 C,  0 C,  0 C, \ 560                                                                            \ FAH                                                                    \ EXPERIMENT DATA        <11/20/86>174                                          \ CRUDE,CHLOROA,CHLOROB,CAROTEN,XANTH                                            2 C,  1 C,  1 C,  0 C,  0 C, \ 570      2 C,  1 C,  1 C,  0 C,  0 C, \ 580      2 C,  1 C,  1 C,  0 C,  0 C, \ 590      2 C,  1 C,  1 C,  0 C,  0 C, \ 600      2 C,  1 C,  1 C,  0 C,  0 C, \ 610      3 C,  2 C,  1 C,  0 C,  0 C, \ 620      5 C, 15 C,  3 C,  0 C,  0 C, \ 630      1 C,  1 C,  8 C,  0 C,  0 C, \ 640     13 C,  8 C,  4 C,  0 C,  0 C, \ 650     15 C, 13 C,  1 C,  0 C,  0 C, \ 660     12 C,  5 C,  0 C,  0 C,  0 C, \ 670      3 C,  0 C,  0 C,  0 C,  0 C, \ 680      0 C,  0 C,  0 C,  0 C,  0 C, \ 690      0 C,  0 C,  0 C,  0 C,  0 C, \ 700                                                                                                                                                                                                                                                                                                                     \ DO ABSORBANCEY EXPER   <11/20/86>176                                          \ execute the absorbancey experiment    1 OWORD:                                \ get experiment result                   INT# @ 5 * TEMP# @ + EDATA + C@       \ now convert to an offset                PTPOS + C@                            \ move the pointer                        MOVEPTR                               O;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     \ FAH                                                                    \ GET-SOL# METER-POS     <12/23/86>177                                          \ copy TEMP variable to TINT            \ so that solution type may be printed  2 OWORD: ( -- )                           TEMP @ TINT ! O;                                                                                                      \ use current cursor location as the    \ meter position                        3 OWORD: ( -- )                           CURX @ 45 + CURY @ STGPOS D!          O;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     \ FAH                                                                    \ AB-IDEAL               <12/23/86>178                                          \ draw ideal graph for current soultion 4 OWORD:                                  400 EDATA TEMP# @ + C@                  >SCRPOS POINT 30 1                      DO I 10 * 400 +                          EDATA I 5 * + TEMP# @ + C@              >SCRPOS LINE-TO                        LOOP                                  O;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              \ REMOVE HEADS           <11/21/86>179                                                                                  FORGET LTCLR                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   \ FAH                                                                    \ TURNKEY NOTES          <12/31/86>180                                          EXIT ---------------------------------                                          The system is compiled as an overlay    then overwritten as the next overlay    is loaded in.                                                                   TURNKEY draws the title screen          holt logo, prentice log, and the        directions to flip.  It then            verifies that the flip was made and     calls run to execute the program                                                Turnkey is also repsonsible for         changing the disk error words to        look for the proper disk.                                                       The word PDISK? in the disk error       words is used to check if the proper    disk is inserted                                                                                                                                       \ FAH                                                                    \ TITLE                  <12/31/86>181                                          : TITLE                                 \ draw the Holt logo                       HGR PAGE TEXT 60 ' PICS !               1 22 1 <DRAW> 3 0 105 <DRAW>            HG 36 EXEC WAIT FORTH                \ draw the title screen                    2 0 105 <DRAW> 2 95 GXYTAB              G." PHOTOSYNTHESIS  "                   56 EXEC WAIT FORTH 8 182 GXYTAB         G."  Copyright (c) 1987 Holt "          G." Rinehart Winston "                  36 EXEC WAIT FORTH                   \ Draw the prentice logo                   0 HCOLOR 280 10 0 182 BAR               4 0 105 <DRAW> 2  95 GXYTAB             G." Produced by:    "                   48 EXEC WAIT FORTH                      12 ' PICS ! ;                                                                                                                                                                               \ FAH                                                                    \ FINST                  <12/31/86>182                                          : FINS                                     20 149 GXYTAB                           G." Insert side 2, close the disk"      20 160 GXYTAB                           G." drive door, then press RETURN."     BEGIN KEY 13 = UNTIL                 ;                                                                               : FINST                                    0 HCOLOR 145 10 2  96 BAR                       280 71 0 109 BAR                20 118 GXYTAB                                G." Remove side 1 of the Modern Biology"                                   20 129 GXYTAB                           G." disk from the disk drive."          FINS ;                                                                                                                                                                                                                              \ FAH                                                                    \ FWRNG                  <12/30/86>203                                          : FWRNG                                    0 HCOLOR 280 71 0 109 BAR               20 118 GXYTAB                                G." That is not the right disk. Remove"                                    20 129 GXYTAB                           G." the disk from the disk drive."      FINS                                 ;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      \ FAH                                                                    \ FLIP                   <12/30/86>204                                          : FLIP                                     FINST                                   BEGIN PDISK? NOT                        WHILE FWRNG                             REPEAT                               ;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              \ FAH                                                                    \ TURNKEY                <12/31/86>185                                                                                  : TURNKEY                                 \ set disk error words for side 1       21314 TO DID 3 TO DBLK 1 TO DS          \ make sure the right disk is in 1      INSDISK                                 \ set reset to restart from scratch     \ assumes ABORT points to TURNKEY       ' ABORT @ ' BRK-RETN !                  TITLE \ draw title                      \ set disk error words for side 2       21328 TO DID 0 TO DBLK 2 TO DS          \ now flip the disk                     FLIP                                    \ set reset to jump to the menu         ' RUN CFA ' BRK-RETN !                  \ now start running virtuso code        RUN                                   ;                                                                                                                                                      \ FAH                                                                    \ REMOVE HEADS           <12/30/86>206                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          \                        <12/29/86>207  EXIT                                    : @8K ( N -- )                            ?NUM 8 0                                DO DUP I + BLOCK                         8192 I 1024 * + 1024 CMOVE             LOOP DROP ;                                                                   : !8K ( N -- )                            ?NUM 8 0                                DO DUP I + BUFFER                        8192 I 1024 * + SWAP 1024 CMOVE         UPDATE                                 LOOP DROP FLUSH ;                                                             : QQ                                      HGR 0 0 GXYTAB                          G." Presents" GCR GCR                 ;                                                                                                                                                                                                                                                                                                                                                                                               EXIT                                    : LCKEY                                   <KEY> DUP ASCII - =                     IF <KEY> 32 + THEN                    ;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       BEGIN                                     AT 21 , 21 METER-POS                    EXPER-TYPE 2                            SET-INT# 4                            \ SET-TEMP# 0                           \ RUN-EXPER                             END                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     